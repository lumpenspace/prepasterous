(()=>{"use strict";var t={642:(t,e,n)=>{n.r(e),n.d(e,{default:()=>o});const o=".prepasterous-notification {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 999999;\n  padding: 10px;\n  box-sizing: 'border-box';\n  background-color: rgba(0, 0, 0, 0.8);\n  border-top: 2px solid #eee;\n\n  color: white;\n}\n.prepasterous-notification-text {\n  color: white;\n  font-weight: bold;\n  font-size: 1.2em;\n  margin-bottom: 1em;\n}\n.prepasterous-notification-container blockquote {\n  background-color: #eee;\n  border-top: #000;\n  border-bottom: #000;\n  color: #000;\n  padding: 0.5em;\n  margin-bottom: 1em;\n  width: 100%;\n}\n.prepasterous-notification-container {\n  background-color: rgba(0, 0, 0, 0.8);\n  padding: 10px;\n  border-radius: 3px;\n  box-sizing: 'border-box';\n  color: white;\n}\n.prepasterous-notification-container pre {\n  display: inline-block;\n  background-color: rgba(125, 0, 0, 0.8) ;\n  padding: 2px;\n  border-radius: 5px;\n  color: #eee;\n  font-weight: bold;\n}\n.prepasterous-notification-container code pre {\n  background-color: #fff;\n  width: 2px;\n  height: 2px;\n  padding: 0;\n  border-radius: 2px;\n  overflow: hidden;\n}"},144:function(t,e,n){var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,r)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});const a=n(66),c=i(n(571));document.addEventListener("paste",(t=>{const e=t.clipboardData.getData("text/plain"),n=(0,c.default)(e);if(n===e)return!0;if(t.preventDefault(),document.activeElement&&(["INPUT","TEXTAREA"].includes(document.activeElement.tagName)||document.activeElement.isContentEditable)){const t="invisible-text-notification",o=document.activeElement,r=(0,a.createNotification)(o,n,e.replaceAll(c.matcher,""),e);r.id=t,document.body.appendChild(r)}}))},571:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.charMatcher=e.matcher=void 0;const o=n(628),r=new o.CharRanger([917552,917631]),i=new o.Ranger([8203,8207]),a=t=>r.convertCharOut(t)||(t=>`U:0x${t.codePointAt(0).toString(16).padStart(4,"0")}`)(t),c=`[${i.regexRange()}${r.regexRange()}\ufeffÂ­]`,s=new RegExp(`${c}+`,"ug");e.matcher=s;const d=new RegExp(c,"ug");e.charMatcher=d,e.default=t=>{const e=null==t?void 0:t.match(s);if(!e)return t;let n=t;return e.forEach(((t,e)=>{const o=t.match(d);if(!o)return;const r=o.map(a).join("");n=null==n?void 0:n.replaceAll(t,`<pre>${r}</pre>`)})),n}},66:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.createNotification=void 0;const r=o(n(642));e.createNotification=(t,e,n,o)=>{((t,e,n,o)=>{const r=t.selectionStart||0,i=t.selectionEnd||0;document.addEventListener("keydown",(o=>{var a;"1"===o.key||"Escape"===o.key?t.setRangeText(e,r,i,"end"):"2"===o.key&&t.setRangeText(n,r,i,"end"),["1","2","Escape"].includes(o.key)&&(o.preventDefault(),null===(a=document.getElementById("invisible-text-notification"))||void 0===a||a.remove())}),{once:!0})})(t,n,o);const i=document.createElement("div");return i.classList.add("prepasterous-notification"),i.innerHTML=`\n    <div class='prepasterous-notification-container' style="width: ${t.clientWidth}px; margin-left: ${t.getBoundingClientRect().x}px">\n        <p class='prepasterous-notification-text'>Invisible paste detected!</p>\n        <blockquote>${e}</blockquote>\n        <p class='prepasterous-keyboard-input'>\n          <strong><code>Esc</code> or <code>1</code></strong>: Paste sanitized\n          <strong><bold><code>2</code></bold></strong>: Paste original.\n        </p>\n    </div>\n    <style>\n      ${r.default.toString()}\n    </style>`,i}},628:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CharRanger=e.Ranger=void 0;class n{constructor([t,e]){this.start=t,this.end=e}getRange(){return[this.start,this.end]}includes(t){return t>=this.start&&t<=this.end}convertIn(t){if(this.includes(t))return t+this.start}convertOut(t){return t-this.start}toString(){return`${this.start}-${this.end}`}*each(){for(let t=this.start;t<=this.end;t++)yield t}regexRange(){return`\\u{${this.start.toString(16).padStart(4,"0")}}-\\u{${this.end.toString(16).padStart(4,"0")}}`}}e.Ranger=n,e.CharRanger=class extends n{constructor(){super(...arguments),this.alphabetStart=48}convertCharIn(t){const e=t.codePointAt(0);if(!e)return null;const n=e-this.alphabetStart+this.start;return this.includes(n)?String.fromCodePoint(n):null}__convertCodePointOut(t){const e=t.codePointAt(0);return this.includes(e)?this.convertOut(e+this.alphabetStart):(console.log(`Char ${t} not in range ${this.toString()}`),null)}convertCharOut(t){const e=this.__convertCodePointOut(t);return null===e?null:String.fromCodePoint(e)}}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(144)})();